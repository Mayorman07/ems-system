# Application Name and Port
spring.application.name=ApiGateway
server.port=9082

# Eureka Client Configuration
eureka.client.service-url.defaultZone=http://localhost:9010/eureka

# --- Correct Gateway Route Configuration ---
# A single route for the Employee Service
spring.cloud.gateway.routes[0].id=employee-service-route
# Route to the service registered as "EMPLOYEES" in Eureka
spring.cloud.gateway.routes[0].uri=lb://EMPLOYEES
# Predicate to match any public URL starting with /employees/
spring.cloud.gateway.routes[0].predicates[0]=Path=/employees/**
# Filter to rewrite the path correctly for the downstream service
spring.cloud.gateway.routes[0].filters[0]=RewritePath=/employees/(?<segment>.*), /$\{segment}

# --- Actuator Configuration ---
# This exposes the gateway diagnostic endpoints
management.endpoints.web.exposure.include=gateway,health,info
spring.cloud.loadbalancer.cache.enabled=false




























#EC2 Eureka
#eureka.client.service-url.defaultZone=${EUREKA_URI:http://Mayorman:test@localhost:8010/eureka}

#for legacy
#spring.config.use-legacy-processing=true